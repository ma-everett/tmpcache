{"note":"Don't delete this file! It's used internally to help with page regeneration.","google":"","name":"tmpcache","body":"tmpcache\r\n========\r\nversion 0 | A Work in Progress\r\n---------\r\n\r\nIn memory temporary cache written in C with \r\n[Crossroads I/O library](http://www.crossroads.io) providing the network\r\ninterface, for GNU/Linux.\r\n\r\nThis is by no means a finished production ready solution for caching data,\r\nthere is much still to do. \r\n\r\nBuild and Install\r\n------------------\r\n\r\nYou will need [Crossroads I/O library](http://www.crossroads.io) installed. \r\nOptionally you may want [Tiny CDB library](http://www.corpit.ru/mjt/tinycdb.html) installed for snapshotting. \r\n\r\n    > ./configure\r\n    > make\r\n\r\nCurrently no install target, as there is no production ready code to use.\r\n\r\nRunning\r\n----------------\r\n\r\n    > tmpcache -m 64MB -s 1MB -w [waddress] -r [raddress] -c [dir]\r\n\r\nWhere _waddress_ (for writing) and _raddress_ (for reading) is \r\nan Crossroads adddress in one of the following forms.\r\n\r\n1. IPC:///tmp/write.tmpcache\r\n2. TCP://127.0.0.1:8888 \r\n\r\nMaximum memory is set with the _m_ argument, the default is 64MB. \r\n\r\nThe maximum size of the data to cache, as set with the _s_ argument, the\r\ndefault is 1MB. \r\n\r\n_dir_ is the directory (absolute path) where the cache will reside. To \r\nimprove the performance, use a *tmpfs* for the cache directory. \r\n\r\nYou can run numerous copies of *tmpcache* provided you use different network addresses. For instance, you can run many read-only instance, each with a different network address and a single write-only instance. \r\n\r\nRunning with Tmpfs\r\n-------------------\r\n\r\nCreate a *tmpfs* \r\n    > sudo mount -t tmpfs -o size=64m tmpfs /srv/tmpcache\r\n    > sudo chown tmpcache:tmpcache /srv/tmpcache\r\n\r\nRun tmpcache instance for writing on an inter-process communication address.\r\n    > tmpcache -m 64MB -s 1MB -w ipc:///tmp/run/tmpcache.write -c /srv/tmpcache &\r\n\r\nNow run a read instace on a TCP network address\r\n    > tmpcache -r tcp://localhost:9898 -c /srv/tmpcache &\r\n \r\n*tmpcache* can be stopped by sending a TERM signal. \r\n\r\nCreating a Snapshot\r\n--------------------\r\n\r\nBecause we use the filesystem, you can use the standard commands for copying\r\nfiles, however *tmpcache* provides to alternative methods of creating a\r\nsnaphot/copy of the cache. The first is to directly write the contents of\r\nthe cache to another cache.\r\n\r\n    > tmpcache -s 1 -c [dir] -w [destination]\r\n\r\nWhere _destination_ is another cache. The second method is to create a \r\n[cdb](http://www.corpit.ru/mjt/tinycdb.html#intro) database.\r\n\r\n    > tmpcache -s [filename].cdb -c [dir]\r\n\r\nWhere _filename_ is an absolute path. This will create a database file which\r\nwe can then create a readonly cache. \r\n\r\n    > tmpcache -c [filename].cdb -r [raddress]\r\n \r\n \r\n","tagline":"Temporary cache written in C with Crossroads I/O library providing the network interface.  "}